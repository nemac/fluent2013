<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"> 

	<title>Crosslink Next</title>

	<link href="crosslink/css/layout.css" rel="stylesheet" />
</head>
<body>
	<script type="text/javascript">
		var agenda = {
	"name": "Fluent 2013",
	"trainers": [
		"Elijah Manor <elijah.manor@gmail.com>"
	],
	"support": [
		"training-content/content/assets"
	],
	"agenda": {
		"Advanced": [
			{
				"title": "About appendTo",
				"sidebar": true,
				"file": "training-content/covers/welcome-appendto-learning.md",
				"content": "&lt;!--\n{\n  \"title\": \"About appendTo\",\n  \"sidebar\": true\n}\n-->\n---\n\n# Welcome\n## appendTo Training\n\n---\n\n&lt;!-- { \"section\": \"Who\" } -->\n\n# Who we are\n\n* Front-end experts\n* JavaScript / jQuery\n  * Backbone.js\n  * Node.js\n* HTML5 / CSS3\n\n---\n\n&lt;!-- { \"section\": \"What\" } -->\n\n# What we do\n\n* Consulting\n  * Project Development\n  * Staff Augmentation\n* Training\n  * Private / Public Onsite\n  * Private / Public Virtual\n\n---\n\n# What we do\n## Training offerings\n\n* JavaScript\n* jQuery\n* jQuery Mobile\n* Backbone\n* Underscore\n* Require.js\n* and more\n\n---\n\n# Clients\n\n![appendTo Clients](assets/clients.png)\n\n---\n\n&lt;!-- { \"section\": \"Agenda\" } -->\n# Agenda\n\n* 09:00am - 09:15am - Welcome\n* 09:15am - 10:00am - Advanced jQuery Events\n* 10:00am - 10:30am - Lab & Break\n* 10:30am - 11:15am - jQuery Plugins & Lab\n* 11:15am - 12:00pm - Contextual jQuery\n* 12:00pm - 12:30pm - Lab & Break\n\n---\n\n# Agenda\n\n* 09:00am - 09:15am - Welcome\n* 09:15am - 10:15am - Contextual jQuery / Advanced jQuery Events\n* 10:15am - 10:45am - Lab & Break\n* 10:45am - 11:45am - Traversal, Filters, & Selectors / Minimizing Setup\n* 11:45am - 12:30am - Lab & Break\n\n"
			},
			{
				"title": "Introductions",
				"file": "training-content/speakers/elijah-manor.md",
				"content": "&lt;!--\n{\n\t\"title\": \"Introductions\"\n}\n-->\n\n---\n\n# Introductions\n\n---\n\n# Elijah Manor\n\n```javascript\n{\n\t\"name\": \"Elijah Manor\",\n\t\"priorities\" : [ \"Christian\", \"Family\", \"Work\" ],\n\t\"employer\" : [ \"Manorism, Inc.\" ],\n\t\"tech\" : [ \"JavaScript\", \"jQuery\", \"HTML5\" ],\n\t\"titles\" : [\n\t\t\"Microsoft Regional Director\",\n\t\t\"Microsoft ASP.NET MVP\",\n\t\t\"ASPInsider\",\n\t\t\"IE userAgent\"\n\t],\n\t\"social\": [ \"@elijahmanor\" ]\n}\n```\n\n---\n\n# Pluralsight\n\n* Front-End First: Testing and Prototyping JavaScript Apps (Published)\n* Fixing Common jQuery Bugs (In Progress)\n* jQuery Tips and Tricks (In Progress)\n* Fixing Common JavaScript Bugs (Coming Soon)\n* ... More ...\n\n[http://bit.ly/pluralsight-elijahmanor](http://bit.ly/pluralsight-elijahmanor)\n"
			},
			{
				"title": "Contextual jQuery Overview",
				"file": "training-content/content/ContextualjQueryDay/overview.md",
				"content": "&lt;!--\n{\n\t\"title\": \"Contextual jQuery Overview\"\n}\n-->\n---\n\n# Contextual jQuery\n## Overview\n\n---\n\n# jQuery Code Styles\n\n* Declarative\n* Dynamic\n* Contextual\n\n---\n\n# Declarative\n\n* Heavy use of IDs\n* All traditional event binding (1:1)\n* Often repeated code with slight variations\n* Changes to HTML often require changes to JS and vice-versa\n* Large number of selectors running on document ready\n\n---\n\n# Declarative\n\n```javascript\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"#form1Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form1.submit();\n\t} );\n\n\t$( \"#form2Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form2.submit();\n\t} );\n} );\n```\n\n---\n\n# Declarative\n\n```javascript\n// #highlight 1,14\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"#form1Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form1.submit();\n\t} );\n\n\t$( \"#form2Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form2.submit();\n\t} );\n} );\n```\n\n---\n\n# Declarative\n\n```javascript\n// #highlight 2,3\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"#form1Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form1.submit();\n\t} );\n\n\t$( \"#form2Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form2.submit();\n\t} );\n} );\n```\n\n---\n\n# Declarative\n\n```javascript\n// #highlight 5,6,7,8\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"#form1Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form1.submit();\n\t} );\n\n\t$( \"#form2Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form2.submit();\n\t} );\n} );\n```\n\n---\n\n# Declarative\n\n```javascript\n// #highlight 10,11,12,13\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"#form1Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form1.submit();\n\t} );\n\n\t$( \"#form2Submit\" ).click( function ( e ) {\n\t\te.preventDefault();\n\t\t$form2.submit();\n\t} );\n} );\n```\n\n---\n\n# Dynamic\n\n* Heavy use of classes, simple selectors\n* Mixture of traditional event binding and delegated binding\n* Less repeated code\n* Changes to HTML still may require changes to JavaScript\n* Many selectors still running on document ready\n\n---\n\n# Dynamic\n\n```javascript\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"a.formSubmit\" ).live( function ( e ) {\n\t\te.preventDefault();\n\n\t\tif ( this.id === \"form1Submit\" ) {\n\t\t\t$form1.submit();\n\t\t} else {\n\t\t\t$form2.submit();\n\t\t}\n\t} );\n} );\n```\n\n---\n\n# Dynamic\n\n```javascript\n// #highlight 1,14\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"a.formSubmit\" ).live( function ( e ) {\n\t\te.preventDefault();\n\n\t\tif ( this.id === \"form1Submit\" ) {\n\t\t\t$form1.submit();\n\t\t} else {\n\t\t\t$form2.submit();\n\t\t}\n\t} );\n} );\n```\n\n---\n\n# Dynamic\n\n```javascript\n// #highlight 2,3\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"a.formSubmit\" ).live( function ( e ) {\n\t\te.preventDefault();\n\n\t\tif ( this.id === \"form1Submit\" ) {\n\t\t\t$form1.submit();\n\t\t} else {\n\t\t\t$form2.submit();\n\t\t}\n\t} );\n} );\n```\n\n---\n\n# Dynamic\n\n```javascript\n// #highlight 5,6,7,8,9,10,11,12,13\n$( document ).ready( function () {\n\tvar $form1 = $( \"#form1\" ),\n\t\t$form2 = $( \"#form2\" );\n\n\t$( \"a.formSubmit\" ).live( function ( e ) {\n\t\te.preventDefault();\n\n\t\tif ( this.id === \"form1Submit\" ) {\n\t\t\t$form1.submit();\n\t\t} else {\n\t\t\t$form2.submit();\n\t\t}\n\t} );\n} );\n```\n\n---\n\n# Contextual\n\n* Minimal use of IDs, some classes\n* Leverages selectors and traversing\n* Very little repeated code\n* HTML follows a convention so edits require less changes to the JS\n* Virtually no selectors running on document ready\n\n---\n\n# Contextual\n\n```javascript\n$( document ).on( \"click\", \"form a.submit\", function ( e ) {\n\te.preventDefault();\n\n\t$( this )\n\t\t.closest( \"form\" )\n\t\t.submit();\n} );\n```\n\n---\n\n# Contextual\n\n```javascript\n// #highlight 1,7\n$( document ).on( \"click\", \"form a.submit\", function ( e ) {\n\te.preventDefault();\n\n\t$( this )\n\t\t.closest( \"form\" )\n\t\t.submit();\n} );\n```\n\n---\n\n# Contextual\n\n```javascript\n// #highlight 4,5,6\n$( document ).on( \"click\", \"form a.submit\", function ( e ) {\n\te.preventDefault();\n\n\t$( this )\n\t\t.closest( \"form\" )\n\t\t.submit();\n} );\n```\n\n---\n\n# Benefits\n## of Contextual jQuery\n\n---\n\n# Benefits\n\n* &lt;del>Faster&lt;/del> Flexible and more responsible code\n* Focused use of resources\n* Less code overall\n* Easier to maintain\n* Easy to reuse\n\n---\n\n&lt;img style=\"margin-top: -4.5em; margin-left: auto;margin-right:auto;\" src=\"/assets/your-page.svg\" />\n\n---\n\n&lt;img style=\"margin-top: -4.5em; margin-left: auto;margin-right:auto;\" src=\"/assets/your-page-focus.svg\" />\n\n---\n\n# What was loaded\n\n* Auto-complete script and data **Search Widget**\n* Google Maps **Footer Map**\n* Validation Plugin **Contact Form & Newsletter**\n* 3 Social Widgets **Per Article**\n* Two extra tabs of HTML content **Sidebar Quick Links**\n* Slideshow code, all slide content & images **Per Slideshow**\n* Facebook Like widget\n* Poll submission code\n\n---\n\n# What was used\n\n* Auto-complete script and data **Search Widget**\n\n---\n\n# Our Page Timeline\n\n&lt;img style=\"margin-top: -4.5em; margin-left: auto;margin-right:auto;\" src=\"/assets/page-timeline.svg\" />\n\n---\n\n# User Timeline\n\n&lt;img style=\"margin-top: -4.5em; margin-left: auto;margin-right:auto;\" src=\"/assets/page-timeline-real.svg\" />\n\n---\n\n# Stop Wasting\n\n* Wasting bandwidth\n\t* Loading everything with initial page load\n* Wasting time\n\t* Running everything in DOM Ready\n* Wasting memory\n\t* Everything you set up and listen for uses memory\n\n---\n\n## Write Code Like You Spend Money\n\n---\n\n# Implementation\n\n---\n\n# Implementation\n\n* Minimize Setup\n\n* Delegated Events\n\n* Traversal, Filters, and Selectors\n\n* HTML Conventions\n\n---\n\n# Order of Learning\n\n* Advanced jQuery Events (Including Delegation)\n\n* Traversal, Filters, and Selectors (Including performance)\n\n* HTML Conventions\n\n* Minimize Setup (Including just-in-time initialization)\n\n* Putting it all together"
			},
			{
				"title": "Advanced jQuery Events",
				"sidebar": false,
				"enableDemos": true,
				"plugins": [
					"livedemo",
					"notify"
				],
				"theme": "jquery-mobile",
				"file": "training-content/content/ContextualjQueryDay/advanced-events.md",
				"content": "&lt;!--\n{\n\t\"title\": \"Advanced jQuery Events\",\n\t\"sidebar\": false,\n\t\"enableDemos\": true,\n\t\"plugins\": [ \"livedemo\", \"notify\" ],\n\t\"theme\": \"jquery-mobile\"\n}\n-->\n---\n\n# Advanced jQuery Events\n## Delegation, Triggers, and Custom Events\n\n---\n&lt;!-- { \"section\": \"Terms\" } -->\n\n# Terms\n\n* **event bubbling**\n* **event capturing**\n* **delegation**\n\n---\n&lt;!-- { \"section\": \"Delegation\" } -->\n\n# Delegation\n\n---\n\n# Problems with traditional binding\n\n* Elements have to exist when you bind the event\n* Future elements added to the page later must be bound separately\n* There is 1:1 ratio of elements to handlers (e.g. 1,000 elements, 1,000 event handlers)\n* Complex selectors can slow down the binding process (typically run in document ready)\n\n---\n\n# Event Delegation\n\n* The event can be bound before elements exist\n* Future elements added to the page automatically work\n* 1 handler can support any number of elements (1:infinity ratio)\n* Complex selectors don’t cause a performance hit with most events\n* Complex selectors only run when the event is triggered\n\n---\n\n# Traditional vs. Delegated\n\n![Bind vs. Delegate](/assets/delegate.png \"Delegation\")\n\n---\n\n# Traditional Binding\n\nThe `bind` method and the shortcut methods like `click` are equivalent to calling `on` with just the event name and a callback. Those methods actually use `on` behind the scenes.\n\n```javascript\n$( \"p\" ).on( \"click\", function () {\n\t\n});\n\n$( \"p\" ).bind( \"click\", function () {\n\t\n});\n\n$( \"p\" ).click(function () {\n\t\n});\n```\n\n---\n\n&lt;!-- { \"demo-autorun\": true } -->\n# Traditional Binding\n\n```javascript\n// Event bound first\n$( \"p\" ).on( \"click\", function () {\n\tconsole.log( \"Paragraph Clicked\" );\n});\n\n// New paragraph added\n$( \"p\" ).after( \"&lt;p>Two&lt;/p>\" );\n```\n\n```html\n&lt;p>One&lt;/p>\n```\n\n---\n\n# Delegated Binding\n\nThe `delegate` method is the equivalent of calling `on` with an additional selector. `delegate` simply calls `on` behind the scenes. The `live` method has been deprecated since jQuery 1.7.\n\n```javascript\n$( \"p\" ).on( \"click\", \"a\", function () {\n\t\n});\n\n$( \"p\" ).delegate( \"a\", \"click\", function () {\n\t\n});\n```\n\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Delegated Binding\n\n```javascript\n// Event bound first\n$( document ).on( \"click\", \"p\", function () {\n\tconsole.log( \"Paragraph Clicked\" );\n});\n\n// New paragraph added\n$( \"p\" ).after( \"&lt;p>Two&lt;/p>\" );\n```\n\n```html\n&lt;p>One&lt;/p>\n```\n\n---\n\n# Similarities\n\nDelegated events work just like their traditional counterparts.\n\n* Multiple events can be bound at once\n* Callbacks continue to function the same way\n* `this` in an event callback is equal to the delegated selector, not the element to which the event is bound\n\n---\n\n# ‘On’ has many signatures for invocation\n\n**Traditional Binding**\n\n```javascript\n$( context ).on( \"eventName\", callback );\n\n$( context ).on( \"eventName otherEventName\", callback );\n\n$( context ).on({\n\teventName: callback1,\n\totherEventName: callback2\n});\n```\n\n---\n\n# ‘On’ has many signatures for invocation\n\n**Delegated Binding**\n\n```javascript\n$( context ).on( \"eventName\", selector, callback );\n\n$( context ).on( \"eventName otherEventName\", selector, callback );\n\n$( context ).on({\n\teventName: callback1,\n\totherEventName: callback2\n}, selector );\n```\n\n---\n\n# Delegation on `document`\n\n```javascript\n$( document ).on( \"click\", \"#footer a\", function () {} );\n```\n\n&lt;br />\n\n* Event will fire for any `click` anywhere on the page\n* Callback will only be invoked for `a` elements inside `#footer`\n* Can be bound before document ready\n* Selector resolved at event trigger time, not bind time\n\n---\n\n# Delegation on an element\n\n```javascript\n$( \"#footer\" ).on( \"click\", \"a\", function () {} );\n```\n\n&lt;br />\n\n* Event will only fire for `click` events in `#footer`\n* Callback will only be invoked for `a` elements inside `#footer`\n* `#footer` must exist before binding\n* Selector resolved at event trigger time, not bind time\n\n---\n\n# Unbinding events\n\n```javascript\n$( document )\n\t.on( \"click.namespace\", \"#footer a\", function () {} );\n\t.on( \"mousedown.namespace\", \"#footer div\", function () {} );\n\n// Later:\n\n$( document ).off( \"click\" );\n$( document ).off( \"click\", \"#footer a\" );\n\n$( document ).off( \"click.namespace\" );\n$( document ).off( \".namespace\" );\n```\n\n---\n\n# Focus and Blur\n\nNot all events bubble up by default. Some events like  `submit` and `change` do not natively bubble in all browsers, so jQuery patches it for you. \n\njQuery also patches `focus` and `blur` but under a different name. If you want to delegate those events, use `focusin` and `focusout`.\n\n---\n\n# Elements & Callbacks\n\n---\n&lt;!-- { \"demo-autorun\": true, \"section\": \"Elements\" } -->\n# Retrieving a reference to the element\n\nInside the event callback, there are a few ways to get at the element where the event was triggered:\n\n* `this` (unless a different context was provided)\n* `e.target`\n* `e.currentTarget`\n\nIn some situations all three will point to the same element, and at other times all three will be different.\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# `this`\n\nInside a callback, `this` normally refers either to the element where the event was bound, or to the delegated selector.\n\n```javascript\n$( \"strong\" ).on( \"click\", function ( e ) {\n\tconsole.log( this.nodeName );\n});\n$( document ).on( \"click\", \"p\", function ( e ) {\n\tconsole.log( this.nodeName );\n});\n```\n\n```html\n&lt;p>\n\t&lt;strong>Bold&lt;/strong>, normal, or &lt;em>italic&lt;/em>\n&lt;/p>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# `this` *Continued*\n\nSince the context can be changed on a JavaScript function, there will be times where `this` does *not* equal the DOM element.\n\n```javascript\nvar obj = {\n\tonClick: function ( e ) {\n\t\tconsole.log( this.nodeName || \"undefined\" );\n\t}\n};\n\n$( document ).on( \"click\", \"p\", $.proxy( obj.onClick, obj ) );\n```\n\n```html\n&lt;p>\n\t&lt;strong>Bold&lt;/strong>, normal, or &lt;em>italic&lt;/em>\n&lt;/p>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# `e.target`\n\nThe `target` property is a reference to the element where the event originated. Sometimes this will be the same as `currentTarget`, but will often times be different:\n\n```javascript\n$( \"p\" ).on( \"click\", function ( e ) {\n\tconsole.log( e.target.nodeName );\n});\n```\n\n```html\n&lt;p>\n\t&lt;strong>Bold&lt;/strong>, normal, or &lt;em>italic&lt;/em>\n&lt;/p>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# `e.currentTarget`\n\nThe `currentTarget` property is a reference to either the element where the event was bound, or to the delegated selector.\n\n```javascript\n$( \"strong\" ).on( \"click\", function ( e ) {\n\tconsole.log( e.currentTarget.nodeName );\n});\n$( document ).on( \"click\", \"p\", function ( e ) {\n\tconsole.log( e.currentTarget.nodeName );\n});\n```\n\n```html\n&lt;p>\n\t&lt;strong>Bold&lt;/strong>, normal, or &lt;em>italic&lt;/em>\n&lt;/p>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# `e.currentTarget` *Continued*\n\nSince the context can be changed on a JavaScript function, `e.currentTarget` may be a better choice than trying to use `this` in some places and `e.currentTarget` in others:\n\n```javascript\nvar obj = {\n\tname: \"Sample\",\n\tonClick: function ( e ) {\n\t\tconsole.log( this.name + \" \" + e.currentTarget.nodeName );\n\t}\n};\n\n$( document ).on( \"click\", \"p\", $.proxy( obj.onClick, obj ) );\n```\n\n```html\n&lt;p>\n\t&lt;strong>Bold&lt;/strong>, normal, or &lt;em>italic&lt;/em>\n&lt;/p>\n```\n\n---\n&lt;!-- { \"section\": \"Triggering\" } -->\n\n# Triggering Events\n\n---\n\n# Triggering Events\n\nThere are two ways to trigger event handlers on an element:\n\n* `trigger`\n* `triggerHandler`\n\nYou will most often use `trigger` if you need this type of behavior.\n\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Triggering Events with `trigger`\n\n```javascript\n$( document ).on( \"click\", \"p\", function () {\n\tconsole.log( \"Paragraph clicked\" );\n} );\n\nsetTimeout( function () {\n\t$( \"p\" ).trigger( \"click\" );\n}, 3000 );\n```\n\n```html\n&lt;p>One&lt;/p>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Determine the source\n\n```javascript\n$( document ).on( \"click\", \"p\", function ( event ) {\n\tconsole.log( event.originalEvent ? \"Human click\" : \"Computer click\" );\n} );\n\nsetTimeout( function () {\n\t$( \"p\" ).trigger( \"click\" );\n}, 2000 );\n```\n\n```html\n&lt;p>One&lt;/p>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Sending Additional Data\n\n```javascript\n$( document ).on( \"click\", \"p\", function ( event, data ) {\n\tconsole.log( data ? data.message : \"Clicked by Human\" );\n} );\n\nsetTimeout( function () {\n\tvar data = { message: \"Hello there!\" };\n\t$( \"p\" ).trigger( \"click\", data );\n}, 2000 );\n```\n\n```html\n&lt;p>One&lt;/p>\n```\n\n---\n\n&lt;!-- { \"demo-autorun\": true } -->\n# Triggering with `triggerHandler`\n\n```javascript\n$( document ).on( \"click\", function () {\n\tconsole.log( \"Document clicked\" );\n});\n\n$( \"p\" ).on( \"click\", function () {\n\tconsole.log( \"P clicked\" );\n});\n\nsetTimeout( function () {\n\t$( \"p\" ).triggerHandler( \"click\" );\n}, 2000 );\n```\n\n```html\n&lt;p>One&lt;/p>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# `trigger` vs `triggerHandler`\n\n* `trigger` events will bubble up the DOM.  \n`triggerHandler` events will not bubble.\n* `trigger` will fire an event for each element in a collection.  \n`triggerHandler` will only fire an event on the first element in the collection.\n* `trigger` is a chainable method.  \n`triggerHandler` is not chainable and returns the return value of the last event’s callback.\n* `trigger` will cause native behavior on some events like a `focus` or `submit`.  \n`triggerHandler` will never cause native browser behavior to execute.\n\n\n---\n&lt;!-- { \"section\": \"Custom\" } -->\n\n# Custom Events\n\n---\n\n# Custom Events\n\nWe already know about browser-provided events like `click`, `focus`, `mouseover`.\n\nWe can use jQuery to create our own event types that will act like a normal browser event.\n\n----\n\n# Defining custom events\n\n```javascript\n$( document )\n\t.on( \"productupdate\", \"p\", function ( event, product ) {\n\t\tconsole.log( \"Product \" + product.id + \" was updated!\" );\n\t} );\n```\n\n----\n\n## Custom events *must* be&lt;br>triggered manually\n\n----\n&lt;!-- { \"demo-autorun\": true } -->\n# Triggering custom events\n\n```javascript\n$( document )\n\t.on( \"productupdate\", \"p\", function ( event, product ) {\n\t\tconsole.log( \"Product \" + product.id + \" was updated!\" );\n\t} );\n\nsetTimeout( function () {\n\tvar product = { id: 5 };\n\t$( \"p\" ).trigger( \"productupdate\", product );\n}, 2000 );\n```\n\n```html\n&lt;p>One&lt;/p>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Listening globally for events\n\n```javascript\n$( document )\n\t.on( \"productupdate\", function ( event, product ) {\n\t\tconsole.log( \"Product \" + product.id + \" was updated!\" );\n\t} );\n\n$( \".update-product\" ).click( function ( event ) {\n\tvar $el = $( this ),\n\t\tproduct = { id: $el.data( \"productId\" ) };\n\n\t$el.trigger( \"productupdate\", product );\n} );\n```\n\n```html\n&lt;div class=\"update-product\" data-product-id=\"5\">Update Product 5!&lt;/div>\n&lt;div class=\"update-product\" data-product-id=\"42\">Update Product 42!&lt;/div>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Listening globally for events\n\n```javascript\n// #highlight 7,8\n$( document )\n\t.on( \"productupdate\", function ( event, product ) {\n\t\tconsole.log( \"Product \" + product.id + \" was updated!\" );\n\t} );\n\n$( \".update-product\" ).click( function ( event ) {\n\tvar $el = $( this ),\n\t\tproduct = { id: $el.data( \"productId\" ) };\n\n\t$el.trigger( \"productupdate\", product );\n} );\n```\n\n```html\n&lt;div class=\"update-product\" data-product-id=\"5\">Update Product 5!&lt;/div>\n&lt;div class=\"update-product\" data-product-id=\"42\">Update Product 42!&lt;/div>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Listening globally for events\n\n```javascript\n// #highlight 10\n$( document )\n\t.on( \"productupdate\", function ( event, product ) {\n\t\tconsole.log( \"Product \" + product.id + \" was updated!\" );\n\t} );\n\n$( \".update-product\" ).click( function ( event ) {\n\tvar $el = $( this ),\n\t\tproduct = { id: $el.data( \"productId\" ) };\n\n\t$el.trigger( \"productupdate\", product );\n} );\n```\n\n```html\n&lt;div class=\"update-product\" data-product-id=\"5\">Update Product 5!&lt;/div>\n&lt;div class=\"update-product\" data-product-id=\"42\">Update Product 42!&lt;/div>\n```\n\n---\n"
			},
			{
				"title": "Traversal, Filters, and Selectors",
				"enableDemos": true,
				"plugins": [
					"livedemo",
					"notify"
				],
				"file": "training-content/content/ContextualjQueryDay/traversal.md",
				"content": "&lt;!--\n{\n\t\"title\": \"Traversal, Filters, and Selectors\",\n\t\"enableDemos\": true,\n\t\"plugins\": [ \"livedemo\", \"notify\" ]\n}\n-->\n\n---\n\n# Traversal, Filters, and Selectors\n\n---\n\n# Terms\n\n* **traversal** - Find other elements by selecting ancestors, siblings, or descendants of your starting element.\n* **filters** - Reduce the set of selected elements by removing unwanted items or selecting just the type of elements you do want.\n\n---\n\n# The Need\n\nWith Declarative jQuery code:\n\n* Find content in a predetermined container by using `$( \"selector\" )` or `.find( \"selector\" )`\n* Callbacks have direct references to the elements they need to affect\n* Requires a good knowledge of your entire DOM structure at any point in your application\n* Requires somewhat expensive DOM searching to set up – multiplied by other similar operations running on document ready\n\n---\n\n# The Need\n\nWith Contextual jQuery code:\n\n* You don’t always have a reference to the container where your code has control\n* The process starts with an event on an element inside that container\n* Requires a good knowledge of your components DOM structure, but not the whole page\n* Almost no setup was required, but very few elements are preselected when the code runs\n* Finding elements, even if a little slower, is not multiplied by similar operations running at the same time.\n\n---\n\n# Traversal Methods\n\n* `prev`, `prevAll`, `prevUntil`\n* `next`, `nextAll`, `nextUntil`\n* `parent`, `parents`, `parentsUntil`\n* `closest`, `offsetParent`\n* `siblings`, `children`, `find`\n* **Shared with filter:**  \n`add`, `addBack`, `andSelf`, `end`\n\n---\n\n# Previous Siblings *`prev*`*\n\n* **`prev`** - Finds the sibling immediately preceding the context element.  \n*Takes an optional selector that filters the results.*\n\n* **`prevAll`** - Finds all siblings preceding the context element.  \n*Takes an optional selector that filters the results.*\n\n* **`prevUntil`** - Finds all siblings preceding the context element up to, but not including the limiting element.  \n*The optional first parameter identifies the limiting selector, element, or jQuery object*  \n*The second parameter filters the results*\n\n---\n\n# Next Siblings *`prev*`*\n\n* **`next`** - Finds the sibling immediately following the context element.  \n*Takes an optional selector that filters the results.*\n\n* **`nextAll`** - Finds all siblings following the context element.  \n*Takes an optional selector that filters the results.*\n\n* **`nextUntil`** - Finds all siblings following the context element up to, but not including the limiting element.  \n*The optional first parameter identifies the limiting selector, element, or jQuery object*  \n*The second parameter filters the results*\n\n---\n\n# Ancestors\n\n* **`parent`** - Finds the immediate parent of the context element.  \n*Takes an optional selector that filters the results.*\n\n* **`parents`** - Finds all ancestors of the context element.  \n*Takes an optional selector that filters the results.*\n\n* **`parentsUntil`** - Finds all ancestors of the context element up to, but not including the limiting element.  \n*The optional first parameter identifies the limiting selector, element, or jQuery object*  \n*The optional second parameter filters the results*\n\n---\n\n# Ancestors *Continued*\n\n* **`closest`** - Finds the first element (either the context element or an ancestor) that matches the provided selector.  \n\n* **`offsetParent`** - Finds the first ancestor that does not have a `position` of `static`. If nothing matches, it will return the `html` element.\n\n---\n\n# Descendants\n\n* **`children`** - Finds immediate children of the context element.  \n*Takes an optional selector that filters the results.*\n\n* **`find`** - Finds any descendant of the current element that matches the selector, element, or jQuery object passed into the method.\n\n---\n\n# Brittle *vs.* Flexible\n\nWe need to balance speed with flexibility when we join JavaScript to our HTML structure.\n\n* **Brittle:** `prev`, `next`, `parent`, `children`\n* **Flexible:** `prevAll`, `nextAll`, `closest`, `find`\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Brittle, Working traversal\n\n```javascript\n$( document ).on( \"click\", \".hideTile\", function () {\n\t$( this ).parent().hide();\n} );\n```\n\n```html\n&lt;div class=\"tile\">\n\t&lt;p>Sample content…&lt;/p>\n\t&lt;button class=\"hideTile\">Hide&lt;/button>\n\t&lt;p>Sample content…&lt;/p>\n&lt;/div>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Brittle, Broken traversal\n\n```javascript\n$( document ).on( \"click\", \".hideTile\", function () {\n\t$( this ).parent().hide();\n} );\n```\n\n```html\n&lt;div class=\"tile\">\n\t&lt;p>Sample content…&lt;/p>\n\t&lt;p>\n\t\t&lt;button class=\"hideTile\">Hide&lt;/button>\n\t&lt;/p>\n\t&lt;p>Sample content…&lt;/p>\n&lt;/div>\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Flexible, Working traversal\n\n```javascript\n// #highlight 2\n$( document ).on( \"click\", \".hideTile\", function () {\n\t$( this ).closest( \".tile\" ).hide();\n} );\n```\n\n```html\n&lt;div class=\"tile\">\n\t&lt;p>Sample content…&lt;/p>\n\t&lt;p>\n\t\t&lt;button class=\"hideTile\">Hide&lt;/button>\n\t&lt;/p>\n\t&lt;p>Sample content…&lt;/p>\n&lt;/div>\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n# Which is faster?\n\n```javascript\n$( this )\n\t.closest( \"form\" )\n\t.find( \".errors\" )\n\t\t.hide();\n```\n\n```javascript\n$( \".form-errors\" ).hide();\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n# Which is more flexible?\n\n```javascript\n$( this )\n\t.closest( \"form\" )\n\t.find( \".errors\" )\n\t\t.hide();\n```\n\n```javascript\n$( \".form-errors\" ).hide();\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n# Understanding `end`\n\nChained traversal and filter methods keep replacing the current set of matched elements. Each time the set changes, the previous set is pushed onto a stack. Calling `end` removes the current set of elements and moves back to the last set in the stack.\n\n```javascript\n$( this )\n\t.closest( \".form\" )\n\t.find( \".errors\" )\n\t\t.hide()\n\t\t.end()\n\t.find( \".success\" )\n\t\t.show();\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n# Understanding `end`\n\nChained traversal and filter methods keep replacing the current set of matched elements. Each time the set changes, the previous set is pushed onto a stack. Calling `end` removes the current set of elements and moves back to the last set in the stack.\n\n```javascript\n// #highlight 2\n$( this )\n\t.closest( \".form\" )\n\t.find( \".errors\" )\n\t\t.hide()\n\t\t.end()\n\t.find( \".success\" )\n\t\t.show();\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n# Understanding `end`\n\nChained traversal and filter methods keep replacing the current set of matched elements. Each time the set changes, the previous set is pushed onto a stack. Calling `end` removes the current set of elements and moves back to the last set in the stack.\n\n```javascript\n// #highlight 3,4\n$( this )\n\t.closest( \".form\" )\n\t.find( \".errors\" )\n\t\t.hide()\n\t\t.end()\n\t.find( \".success\" )\n\t\t.show();\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n# Understanding `end`\n\nChained traversal and filter methods keep replacing the current set of matched elements. Each time the set changes, the previous set is pushed onto a stack. Calling `end` removes the current set of elements and moves back to the last set in the stack.\n\n```javascript\n// #highlight 5\n$( this )\n\t.closest( \".form\" )\n\t.find( \".errors\" )\n\t\t.hide()\n\t\t.end()\n\t.find( \".success\" )\n\t\t.show();\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n# Understanding `end`\n\nChained traversal and filter methods keep replacing the current set of matched elements. Each time the set changes, the previous set is pushed onto a stack. Calling `end` removes the current set of elements and moves back to the last set in the stack.\n\n```javascript\n// #highlight 6,7\n$( this )\n\t.closest( \".form\" )\n\t.find( \".errors\" )\n\t\t.hide()\n\t\t.end()\n\t.find( \".success\" )\n\t\t.show();\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n# Code without `end`\n\n`end` can be a very useful tool at times when you don’t want a number of temporary JavaScript variables, but you can write efficient code without it:\n\n```javascript\nvar form = $( this ).closest( \".form\" );\n\nform.find( \".errors\" ).hide();\nform.find( \".success\" ).show();\n```\n\n---\n&lt;!-- { \"demo\": false } -->\n\n# Quick Preview\n\nLater today we'll talk about using CSS classes to maintain visual state.\n\n```javascript\n$( this )\n\t.closest( \"form\" )\n\t.removeClass( \"has-errors\" )\n\t.addClass( \"is-successful\" );\n```\n\n---\n\n# Filter methods\n\n* `filter`, `eq`\n\n* `slice`, `has`\n\n* `first`, `not`\n\n* **Shared with traversal:**  \n`add`, `addBack`, `andSelf`, `end`\n\n---\n\n# The Filter Method\n\n* **`filter`** - Take the current set and further reduce it by only keeping elements that match the filter selector, element, jQuery object, or callback\n\n```javascript\nvar $li = $( \"li\" );\n$li.filter( \":odd\" ).addClass( \"odd\" );\n$li.filter( \":even\" ).addClass( \"even\" );\n```\n\n```javascript\n// Test if current element is in another list $menuItems\n$( document ).on( \"click\", \".menu li\", function ( e ) {\n\tif ( $menuItems.filter( e.currentTarget ).length ) {\n\t\t// do something\n\t}\n});\n```\n\n---\n&lt;!-- { \"demo-autorun\": true } -->\n# Custom Filter\n\n```javascript\nvar magicList = {\n\t\"apples\": true,\n\t\"oranges\": false,\n\t\"hat\": true\n};\n\n$( \"div\" ).filter( function ( i, el ) {\n\treturn magicList[ el.innerHTML.toLowerCase() ];\n}).css( 'color', 'Orchid' );\n```\n\n```html\n&lt;div>Apples&lt;/div>\n&lt;div>Oranges&lt;/div>\n&lt;div>Hat&lt;/div>\n```\n\n---\n\n# `eq`, `first`, `slice`\n\n* **`eq`** - Grabs the element at the specified index\n* **`first`** - Grabs the first element\n* **`slice`** - Returns a number of elements between the starting index and the ending index (or the end of the set)\n\n*Note:* `eq` and `get` and `[]` are similar, but have different return values. `$set.get(index)` and `$set[index]` both return the DOM element at the specified index. `eq` returns a jQuery result set containing the element at that index.\n\n---\n\n# `not`, `has`\n\n* **`not`** - Filters the selection to everything that does *not* match the selector.\n* **`has`** - Filters the selection to elements that contain other elements matched by the selector.\n\n---\n\n# Pro tip: `.not` vs. `.is`\n\n```javascript\nif ( $( this ).not( \"a\" ) ) {\n\tconsole.log( \"Why does this work?\" );\n}\n```\n\n```javascript\nif ( $( this ).is( \":not(a)\" ) ) {\n\tconsole.log( \"This won’t show...phew!\" );\n}\n\n// or\n\nif ( !$( this ).is( \"a\" ) ) {\n\tconsole.log( \"This won’t show either!\" );\n}\n```\n\n---\n\n# `add`, `addBack`, `andSelf`\n\nThese are methods that work with the jQuery result set and they work with both traversal and filter methods.\n\n* **`add`** - Add an element, html fragment, etc into the current result set.\n* **`addBack`** - Add the previous result set (from the stack) into the current result set\n* **`andSelf`** - Same function as `addBack`. Deprecated as of jQuery 1.8 - use `addBack` instead\n\n---\n\n# Selectors\n\n* [jQuery Selectors](http://api.jquery.com/category/selectors/)\n* A few selectors\n\t* `[name=word]`, `[name!=word]`\n\t* `[name^=word]`, `[name$=word]`\n\t* `[name*=word]`\n\t* `.stacked.classes`\n\t* `div:has(a)`\n\t* `div`, `a`, `p`\n\n---\n\n# Selectors\n\n```javascript\n$( \".nice li > a\" ).remove();\n```\n\nSelectors generally execute from right to left. For example:\n\n* Find all `a` elements\n* Ignore `a` elements that don’t have an `li` as an immediate parent\n* Ignore `a` elements that don’t have an ancestor of `.nice`\n\n---\n\n# Selectors\n## Scoping exception\n\n```javascript\n$( \"#content .nice li > a\" ).remove()\n```\n\nInstead of searching the entire DOM tree, this selector would be scoped to ancestors of the `#content` element.\n\n* Find `#content`\n* Find all `a` elements inside of `#content`\n* Ignore `a` elements that don’t have an `li` as an immediate parent\n* Ignore `a` elements that don’t have an ancestor of `.nice` (that are still children of `#content`)\n\n---\n\n# Smaller result set, better performance\n## Always be aware of the context\n\n```javascript\n// Will search the entire DOM\n$( \".copyright\" ).hide();\n\n// Will only search children of #footer\n$( \"#footer\" )\n\t.addClass( \"highlight\" )\n\t.find( \".copyright\" )\n\t\t.hide();\n```\n\n---\n\n# Speed and Selectors\n\n1. How many elements will be processed by the selector?\n2. How large is the part of the DOM being searched?\n3. How often will it be running? With many other searches?\n\n---\n\n# Delegation, Filters and Selectors\n\nSince filters are often run against a very limited result set and delegated event selectors (for many events) are evaluated so infrequently, you can optimize for effectiveness over efficiency.\n\n---\n\n# Which is faster?\n\n```javascript\n\"a[href*=twitter.com]\"\n```\n\n```javascript\n\"a.twitter\"\n```\n\n---\n\n# Lab\n## Events and Traversal\n\n---"
			},
			{
				"title": "Minimizing Setup",
				"plugins": [
					"livedemo",
					"notify"
				],
				"file": "training-content/content/ContextualjQueryDay/just-in-time_uk.md",
				"content": "&lt;!--\n{\n    \"title\": \"Minimizing Setup\",\n    \"plugins\": [ \"livedemo\", \"notify\" ]\n}\n-->\n\n---\n\n# Minimizing Setup\n## Initialization Patterns\n\n---\n\n## Review\n\n---\n\n&lt;img style=\"margin-top: -4.5em; margin-left: auto;margin-right:auto;\" src=\"assets/your-page.svg\" />\n\n---\n\n&lt;img style=\"margin-top: -4.5em; margin-left: auto;margin-right:auto;\" src=\"assets/your-page-focus.svg\" />\n\n---\n\n# What was loaded\n\n* Auto-complete script and data **Search Widget**\n* Google Maps **Footer Map**\n* Validation Plugin **Contact Form & Newsletter**\n* 3 Social Widgets **Per Article**\n* Two extra tabs of HTML content **Sidebar Quick Links**\n* Slideshow code, all slide content & images **Per Slideshow**\n* Facebook Like widget\n* Poll submission code\n\n---\n\n# What was used\n\n* Auto-complete script and data **Search Widget**\n\n---\n\n# Our Page Timeline\n\n&lt;img style=\"margin-top: -4.5em; margin-left: auto;margin-right:auto;\" src=\"assets/page-timeline.svg\" />\n\n---\n\n# User Timeline\n\n&lt;img style=\"margin-top: -4.5em; margin-left: auto;margin-right:auto;\" src=\"assets/page-timeline-real.svg\" />\n\n---\n\n# Fixing the Problem\n\n* Handle initial state with CSS\n* Streamline DOM Ready: fewer selectors, less initialization\n* Leverage delegated events to reduce selections in DOM Ready\n* Use personalized HTML conventions to make code as reusable as possible\n* Initialize components just in time\n\n---\n\n# Fixing the Problem\n\n* **Handle initial state with CSS**\n* Streamline DOM Ready: **fewer selectors, less initialization**\n* Leverage delegated events to reduce selections in DOM Ready\n* Use personalized HTML conventions to make code as reusable as possible\n* **Initialize components just in time**\n\n---\n\n# Handling initial state\n\n```html\n&lt;!doctype html>\n&lt;html class=\"no-js\">\n    &lt;head>\n        &lt;meta charset=\"utf-8\" />\n        &lt;title>Sample&lt;/title>\n        &lt;style>\n            html.no-js .js, html.js .no-js { display: none; }\n        &lt;/style>\n        &lt;script>\n            document.documentElement.className =\n                document.documentElement.className.replace( \"no-js\", \"js\" );\n        &lt;/script>\n    &lt;/head>\n    &lt;body>\n        &lt;div class=\"no-js\">&lt;a href=\"/about\">Learn About Us&lt;/a>&lt;/div>\n        &lt;div class=\"js\"> Something Amazing! &lt;/div>\n    &lt;/body>\n&lt;/html>\n```\n\n---\n\n# Handling initial state\n\n```html\n&lt;!-- #highlight 2 -->\n&lt;!doctype html>\n&lt;html class=\"no-js\">\n    &lt;head>\n        &lt;meta charset=\"utf-8\" />\n        &lt;title>Sample&lt;/title>\n        &lt;style>\n            html.no-js .js, html.js .no-js { display: none; }\n        &lt;/style>\n        &lt;script>\n            document.documentElement.className =\n                document.documentElement.className.replace( \"no-js\", \"js\" );\n        &lt;/script>\n    &lt;/head>\n    &lt;body>\n        &lt;div class=\"no-js\">&lt;a href=\"/about\">Learn About Us&lt;/a>&lt;/div>\n        &lt;div class=\"js\"> Something Amazing! &lt;/div>\n    &lt;/body>\n&lt;/html>\n```\n\n---\n\n# Handling initial state\n\n```html\n&lt;!-- #highlight 6,7,8 -->\n&lt;!doctype html>\n&lt;html class=\"no-js\">\n    &lt;head>\n        &lt;meta charset=\"utf-8\" />\n        &lt;title>Sample&lt;/title>\n        &lt;style>\n            html.no-js .js, html.js .no-js { display: none; }\n        &lt;/style>\n        &lt;script>\n            document.documentElement.className =\n                document.documentElement.className.replace( \"no-js\", \"js\" );\n        &lt;/script>\n    &lt;/head>\n    &lt;body>\n        &lt;div class=\"no-js\">&lt;a href=\"/about\">Learn About Us&lt;/a>&lt;/div>\n        &lt;div class=\"js\"> Something Amazing! &lt;/div>\n    &lt;/body>\n&lt;/html>\n```\n\n---\n\n# Handling initial state\n\n```html\n&lt;!-- #highlight 9,10,11,12 -->\n&lt;!doctype html>\n&lt;html class=\"no-js\">\n    &lt;head>\n        &lt;meta charset=\"utf-8\" />\n        &lt;title>Sample&lt;/title>\n        &lt;style>\n            html.no-js .js, html.js .no-js { display: none; }\n        &lt;/style>\n        &lt;script>\n            document.documentElement.className =\n                document.documentElement.className.replace( \"no-js\", \"js\" );\n        &lt;/script>\n    &lt;/head>\n    &lt;body>\n        &lt;div class=\"no-js\">&lt;a href=\"/about\">Learn About Us&lt;/a>&lt;/div>\n        &lt;div class=\"js\"> Something Amazing! &lt;/div>\n    &lt;/body>\n&lt;/html>\n```\n\n---\n\n# Handling initial state\n\n```html\n&lt;!-- #highlight 9 -->\n&lt;!doctype html>\n&lt;html class=\"no-js\">\n    &lt;head>\n        &lt;meta charset=\"utf-8\" />\n        &lt;title>Sample&lt;/title>\n        &lt;style>\n            html.no-js .js, html.js .no-js { display: none; }\n        &lt;/style>\n        &lt;script src=\"/js/libs/modernizr.js\">&lt;/script>\n    &lt;/head>\n    &lt;body>\n        &lt;div class=\"no-js\">&lt;a href=\"/about\">Learn About Us&lt;/a>&lt;/div>\n        &lt;div class=\"js\"> Something Amazing! &lt;/div>\n    &lt;/body>\n&lt;/html>\n```\n\n---\n\n# Handling initial state\n\n```html\n&lt;!-- #highlight 12,13 -->\n&lt;!doctype html>\n&lt;html class=\"no-js\">\n    &lt;head>\n        &lt;meta charset=\"utf-8\" />\n        &lt;title>Sample&lt;/title>\n        &lt;style>\n            html.no-js .js, html.js .no-js { display: none; }\n        &lt;/style>\n        &lt;script src=\"/js/libs/modernizr.js\">&lt;/script>\n    &lt;/head>\n    &lt;body>\n        &lt;div class=\"no-js\">&lt;a href=\"/about\">Learn About Us&lt;/a>&lt;/div>\n        &lt;div class=\"js\"> Something Amazing! &lt;/div>\n    &lt;/body>\n&lt;/html>\n```\n\n---\n\n# Leveraging Modernizr\n\n```html\n&lt;a class=\"find-location\" href=\"#\">Find My Location&lt;/a>\n```\n\n```css\n.find-location { display: none; }\n.geolocation .find-location { display: inline; }\n```\n\n```javascript\nif ( Modernizr.geolocation ) {\n    $( document ).on( \"click\", \".find-location\", function () {\n        ...\n    } );\n}\n```\n\n---\n\n# Create your own\n\n```html\n&lt;a class=\"user-action\" href=\"/account\">My Account&lt;/a>\n```\n\n```css\n.user-action { display: none; }\n.signed-in .user-action { display: inline; }\n```\n\n```javascript\nvar authentication = function () {\n    // Lots of important code here\n    $( \"body\" ).addClass( \"signed-in\" );\n};\n```\n\n---\n\n# Tips\n## For working with state classes\n\n* Expect the class to go at the top level of your component or page (for global pieces)\n* Use descriptive names: `is-disabled`, `has-errors`, `is-successful`, etc\n* Try not to use show/hide as your primary showing and hiding mechanism.  \nUse `display:none` in a CSS class instead.\n\n---\n\n# Just In Time Techniques\n\n---\n\n# The Process\n\n&lt;ol>\n&lt;li>Render a facade with HTML and CSS&lt;/li>\n&lt;li>Leverage a one time initialization pattern to prepare the component&lt;/li>\n&lt;li>Delegate the beacon event(s) to trigger the initialization&lt;/li>\n&lt;li>Provide a visual feedback safety net&lt;/li>\n&lt;li>Finish initialization&lt;/li>\n&lt;/ol>\n\n*Not all steps are needed in every situation*\n\n\n---\n\n\n# The Process\n\n&lt;ol style=\"color: rgba(255,255,255,0.3)\">\n&lt;li style=\"color: white\">Render a facade with HTML and CSS&lt;/li>\n&lt;li>Leverage a one time initialization pattern to prepare the component&lt;/li>\n&lt;li>Delegate the beacon event(s) to trigger the initialization&lt;/li>\n&lt;li>Provide a visual feedback safety net&lt;/li>\n&lt;li>Finish initialization&lt;/li>\n&lt;/ol>\n\n*Not all steps are needed in every situation*\n\n\n---\n\n# Definition\n\n> “Facade: an outward appearance that is maintained to conceal a less pleasant or creditable reality”\n- **New Oxford American Dictionary**\n\n---\n\n# The Facade\n\n* Render the initial state of a component using static HTML and CSS\n* Include enough detail the user understands how to interact with the component\n\n---\n\n# Which Form is a Facade?\n\n&lt;div style=\"width: 100%\">\n    &lt;div style=\"float: left; width: 40%; margin-right: 5%\">\n        &lt;img src=\"assets/facade-form.png\" style=\"margin-right:20px\">\n    &lt;/div>\n    &lt;div style=\"float: left; width: 40%\">\n        &lt;img src=\"assets/facade-form.png\">\n    &lt;/div>\n&lt;/div>\n\n---\n\n# Which Form is a Facade?\n\n&lt;div style=\"width: 100%\">\n    &lt;div style=\"float: left; width: 40%; margin-right: 5%\">\n        &lt;img src=\"assets/facade-form.png\" style=\"margin-right:20px\">\n        &lt;p>Includes a few lines of code to initialize form when needed.&lt;/p>\n    &lt;/div>\n    &lt;div style=\"float: left; width: 40%\">\n        &lt;img src=\"assets/facade-form.png\">\n        &lt;p>Includes a 21KB validation library, remote calls to check uniqueness of username and email as well as functionality to show password.&lt;/p>\n    &lt;/div>\n&lt;/div>\n\n---\n\n# The Facade\n\n* The facade should look nearly identical to its fully enabled counterpart. \n* In some situations you can get away with it being different if what is missing is non-essential.\n\n---\n\n\n# The Process\n\n&lt;ol style=\"color: rgba(255,255,255,0.3)\">\n&lt;li>Render a facade with HTML and CSS&lt;/li>\n&lt;li style=\"color: white\">Leverage a one time initialization pattern to prepare the component&lt;/li>\n&lt;li>Delegate the beacon event(s) to trigger the initialization&lt;/li>\n&lt;li>Provide a visual feedback safety net&lt;/li>\n&lt;li>Finish initialization&lt;/li>\n&lt;/ol>\n\n*Not all steps are needed in every situation*\n\n---\n\n# One-Time Initialization\n\n* After rendering the facade, we need to be able to properly initialize the full functionality.\n* It should only run once per facade, so we need to pick a one-time initialization pattern that works for us.\n* We will also need a pattern for loading other dependencies our component might depend on.\n\n---\n\n# One-Time Initialization\n\n* Basic Patterns\n    * Variable Flag\n    * $.fn.one()\n    * Class name\n    * Class name + Delegation Magic\n    \n* More Advanced\n    * $.Deferred\n    * Finite State Machine\n    \n---\n\n# Variable Flag\n\n```javascript\nvar $dialog;\n$( \"#contactUs\" ).on( \"click\", function () {\n    if ( !$dialog ) {\n        $dialog = $( \"#contact\" ).dialog();\n    } else {\n        $dialog.dialog( \"open\" );\n    }\n});\n```\n\n---\n\n# jQuery `.one()`\n\n```javascript\nvar $dialog;\n$( \"#contactUs\" ).one( \"click\", function () {\n    $dialog = $( \"#contact\" ).dialog({\n        autoOpen: false\n    });\n}).on( \"click\", function () {\n    $dialog.dialog( \"open\" );\n});\n```\n\n---\n\n# Class Name\n\n```javascript\n$( document ).on( \"click\", \".slideshow .next\", function () {\n    var $parent = $( this ).closest( \".slideshow\");\n\n    if ( !$parent.hasClass( \"is-ready\" ) ) {\n        // Initialization Code\n        $parent.addClass( \"is-ready\" );\n    }\n});\n```\n\n---\n\n# Class Name with Delegation Magic\n\n```javascript\n$( document ).on( \"click\", \".slideshow:not(.is-ready) .next\", function () {\n    var $parent = $( this ).closest( \".slideshow\");\n    // Initialization Code\n    $( this ).addClass( \"is-ready\" );\n});\n```\n\n### **Preferred ‘Basic’ Solution**\n\n---\n\n# One-Time Initialization\n\n* Chose the best option based on your application or site needs.\n* A combination of patterns often work well together.\n\n---\n\n\n# The Process\n\n&lt;ol style=\"color: rgba(255,255,255,0.3)\">\n&lt;li>Render a facade with HTML and CSS&lt;/li>\n&lt;li>Leverage a one time initialization pattern to prepare the component&lt;/li>\n&lt;li style=\"color: white\">Delegate the beacon event(s) to trigger the initialization&lt;/li>\n&lt;li>Provide a visual feedback safety net&lt;/li>\n&lt;li>Finish initialization&lt;/li>\n&lt;/ol>\n\n*Not all steps are needed in every situation*\n\n---\n\n# Possible User Events\n\n* Click/Tap\n* Mouse Enter/Leave **Not for touch devices**\n* Mouse Enter/Leave with Delay **Not for touch devices**\n* Focus/Blur\n* Typing\n* Resize\n* Paging **Touch and mouse devices**\n\n---\n\n# Click/Tap\n\nThis is the most obvious form of determining user intent\n\n* Action is definite\n* Often too late to avoid delays\n* Great fit for local content involving complex setup tasks\n* Loading indicators may be needed if remote content is involved\n\n---\n\n# Click/Tap\n\n* Almost *always* delegate this method\n* Treat it like the first step in a wizard, setup whatever comes next\n\n---\n\n# Mouse Enter/Leave\n\n* Action has a high probability\n* More expensive to listen for\n* Many false positives\n* Great for drag and drop initialization\n* Useless on touch devices\n\n---\n\n# Mouse Enter/Leave\n\n### Old\n\n```javascript\n// 1000 item iteration, woah!\n$( \"div.item\" ).draggable();\n```\n\n### New\n\n```javascript\n$( \".dragContainer\" )\n    .on( \"mouseenter\", \"div.item:not( .ui-draggable )\", function ( e ) {\n        // Only ended up running on 15 items\n        $( this ).draggable({ … });\n    });\n```\n\n---\n\n# Mouse Enter/Leave\n\n* Delegate the event to a close parent of the items to be initialized \n* Use only when other events cannot be leveraged\n\n---\n\n# Mouse Enter/Leave + Delay\n\n* Wait a certain length of time before initializing\n* Action has a very high probability\n* Requires a click safety net for fast movers\n* Fewer false positives\n\n---\n\n# Mouse Enter/Leave + Delay\n\n* Hover Intent\n* jQuery.doTimeout: [http://bit.ly/dotimeout](http://bit.ly/dotimeout)\n* Finite State Machines\n\n\n---\n\n# Example\n## Tech Crunch\n\n---\n\n# Mouse enter/leave & doTimeout\n\n* jQuery.doTimeout is a plugin by Ben Alman: [http://bit.ly/dotimeout](http://bit.ly/dotimeout)\n* Action has a very high probability\n* May require a click safety net for fast movers\n* Fewer false positives\n\n---\n\n# Mouse enter/leave & doTimeout\n\n```javascript\nfunction initializeSocialWidgets() {\n    // Run setup here\n}\n\n$( document )\n    .delegate( \"article\", \"mouseenter mouseleave\",\n        function ( e ) {\n            var $el = $( this );\n\n            if ( e.type === \"mouseenter\" ) {\n                $el.doTimeout( \"social\", 500,\n                    $.proxy( initializeSocialWidgets, $el )\n                );\n            } else {\n                $el.doTimeout( \"social\" );\n            }\n        }\n    );\n```\n\n---\n\n# Mouse enter/leave & doTimeout\n\n```javascript\n// #highlight 6,14,16,17,18\nfunction initializeSocialWidgets() {\n    // Run setup here\n}\n\n$( document )\n    .delegate( \"article\", \"mouseenter mouseleave click\",\n        function ( e ) {\n            var $el = $( this );\n\n            if ( e.type === \"mouseenter\" ) {\n                $el.doTimeout( \"social\", 500,\n                    $.proxy( initializeSocialWidgets, $el )\n                );\n            } else if ( e.type === \"mouseleave\" ) {\n                $el.doTimeout( \"social\" );\n            } else {\n                $el.doTimeout( \"social\", false );\n            }\n        }\n    );\n```\n\n---\n\n# Scrolling\n\n* Action has a medium probability, but easy to detect when an action cannot happen\n* Could be expensive if implemented poorly\n* jQuery Waypoints: &lt;http://bit.ly/jquerywaypoints>\n* jQuery Sonar: &lt;http://bit.ly/jquerysonar>\n\n---\n\n# Scrolling\n\n* Try to work with cached comparison data\n* Throttle or Debounce when working with complex code\n\n---\n\n# Focus/Blur\n\n* Action has a high probability\n* Great time to initialize something like autocomplete, a date picker, or validation on a form\n* When delegating, remember to use `focusin` and `focusout`\n\n---\n\n# Typing\n\n* Action has a very high probability\n* Great time to start loading next pages of a multi-step wizard\n\n---\n\n# Resize\n\n* Needed for responsive designs where functionality depends on available screen area. No need to initialize a component that is off screen.\n* Be sure to throttle or debounce to cut down on performance issues while handling resize events\n\n---\n\n# Paging\n\n* Action has a very high probability\n* They cannot use components off screen until they appear on screen\n* Helpful for speeding up mobile rendering of responsive designs\n\n---\n\n## Which interaction is&lt;br>the most significant?\n\n---\n\n# BEACON INTERACTION\n## The first interaction that provides&lt;br>sufficient indication of intent\n\n---\n\n# Definition\n\n> “Beacon: a fire or light set up in a high or prominent position as a warning, signal, or celebration”\n- **New Oxford American Dictionary**\n\n---\n\n# Beacon Events\n\n&lt;img src=\"assets/slideshow.png\">\n\n---\n\n# Beacon Events\n\n&lt;img src=\"assets/facade-form.png\">\n\n---\n\n# Beacon Interactions\n\n### Concrete Interactions\n\n* Clicking/Tapping the \"Next\" button on a slideshow widget\n* Mouse down (touch start) on a draggable element\n* Clicking/Tapping on a \"Contact Us\" link\n\n### Probability Based Interactions\n\n* Entering an input field on a signup form\n* Typing in an input on the first step of a dynamic wizard\n* Mouse over a draggable element\n* Scrolling to the bottom of the page where the contact form is located\n\n\n---\n\n# Predicting User Actions\n## Using localStorage to track patterns\n\n---\n\n# Tracking User Actions\n\n* Store a small number of metrics as a user browses your site or application\n* Keep the information general - don't go overboard\n* Read this information on page load and respond accordingly\n* Amplify.store\n\t* [http://amplifyjs.com](http://amplifyjs.com)\n\n---\n\n# Login / App Preloading\n\n```javascript\n// On the final step of signup,\n// or inside your web application\namplify.store( \"member\", true );\n\n// On the home page\nif ( amplify.store( \"member\" ) ) {\n  // Load login popover\n  loadLoginPopover();\n  \n  // Preload web application assets\n  loadAppAssets();  \n}\n```\n\n---\n\n# Less Used Action\n\n```javascript\n// On the advanced Edit page or method\nvar timesLoaded = amplify.store( \"advancedEdit\" ) || 0;\ntimesLoaded += 1;\namplify.store( \"advancedEdit\", timesLoaded );\n\n// On the base page or init method of the app\nif ( amplify.store( \"advancedEdit\" ) > 3 ) {\n\t// Preload advancedEdit\n\tpreoloadAdvanvedEdit();\n}\n```\n\n---\n\n# The Process\n\n&lt;ol style=\"color: rgba(255,255,255,0.3)\">\n&lt;li>Render a facade with HTML and CSS&lt;/li>\n&lt;li>Leverage a one time initialization pattern to prepare the component&lt;/li>\n&lt;li>Delegate the beacon event(s) to trigger the initialization&lt;/li>\n&lt;li style=\"color: white\">Provide a visual feedback safety net&lt;/li>\n&lt;li>Finish initialization&lt;/li>\n&lt;/ol>\n\n*Not all steps are needed in every situation*\n\n---\n\n# Visual Safety Net\n\n* For long running operations, provide a loading indicator that will inform the user that the system is working\n* This should not appear unless the event is actually taking a while to complete\n\n---\n\n\n# The Process\n\n&lt;ol style=\"color: rgba(255,255,255,0.3)\">\n&lt;li>Render a facade with HTML and CSS&lt;/li>\n&lt;li>Leverage a one time initialization pattern to prepare the component&lt;/li>\n&lt;li>Delegate the beacon event(s) to trigger the initialization&lt;/li>\n&lt;li>Provide a visual feedback safety net&lt;/li>\n&lt;li style=\"color: white\">Finish initialization&lt;/li>\n&lt;/ol>\n\n*Not all steps are needed in every situation*\n\n---\n\n## Stop wasting time, bandwidth and memory… use resources strategically to provide fast, responsible sites and applications.\n\n---"
			},
			{
				"title": "Modularity in the Browser",
				"sidebar": false,
				"plugins": [
					"livedemo",
					"notify"
				],
				"file": "training-content/content/ContextualjQueryDay/globals.md",
				"content": "&lt;!--\n{\n\t\"title\": \"Modularity in the Browser\",\n\t\"sidebar\": false,\n\t\"plugins\": [ \"livedemo\", \"notify\" ]\n}\n-->\n---\n\n# Modularity in the Browser\n\n---\n\n# Globals\n\n---\n\n# Why are Globals bad?\n\n---\n\n# Non-locality\n\n* Code is easier to read when variables are local\n* Globals can be difficult to remember when located elsewhere\n\n---\n\n# Lack of Access Control\n\n* Globals can be read and modified by any part of the application\n* This includes third-party scripts\n* Difficult to secure in the future\n\n---\n\n# Implicit Coupling\n\n> A program with many global variables often has tight couplings between some of those variables, and couplings between variables and functions. Grouping coupled items into cohesive units usually leads to better programs.\n\n---\n\n# Namespace Pollution\n\n> Global names are available everywhere. You may unknowingly end up using a global when you think you are using a local, e.g. by misspelling or forgetting to declare the local, or vice versa.\n\n---\n\n# Memory Allocation\n\nGlobal variables cannot be garbage-collected because they always exist\n\n---\n\n# Testing and Confinement\n\n> Code that utilizes globals is more difficult to test because one cannot readily set up a _clean_ environment between runs.\n\n---\n\n# Conclusion?\n\n## Globals are bad.\n\n---\n\n# Scope and Reducing Globals\n\n---\n\n# Scope and Reducing Globals\n\n```javascript\nvar defaults = {\n\timage: 'http://bit.ly/P5gi7B'\n};\n\n$.fn.baconize = function (options) {\n\toptions = $.extend({}, defaults, options);\n\n\treturn this.html('&lt;img src=\"' + options.image + '\" alt=\"Bacon\" />');\n};\n```\n\n---\n\n# Function Scope\n\n---\n\n# Scope and Reducing Globals\n\n```javascript\nvar global = function () {\n\tvar defaults = {\n\t\timage: 'http://bit.ly/P5gi7B'\n\t};\n\n\t$.fn.baconize = function (options) {\n\t\toptions = $.extend({}, defaults, options);\n\n\t\treturn this.html('&lt;img src=\"' + options.image + '\" alt=\"Bacon\" />');\n\t};\n};\n```\n\n---\n\n# Scope and Reducing Globals\n\n```javascript\n// #highlight 11\nvar global = function () {\n\tvar defaults = {\n\t\timage: 'http://bit.ly/P5gi7B'\n\t};\n\n\t$.fn.baconize = function (options) {\n\t\t...\n\t};\n};\n\nglobal();\n```\n\n---\n\n# Scope and Reducing Globals\n\n```javascript\n// #highlight 11\nvar global = function () {\n\tvar defaults = {\n\t\timage: 'http://bit.ly/P5gi7B'\n\t};\n\n\t$.fn.baconize = function (options) {\n\t\t...\n\t};\n};\n\nglobal();\n```\n\n```javascript\nglobal();\n```\n\n---\n\n# Scope and Reducing Globals\n\n```javascript\n// #highlight 1,9\nfunction () {\n\tvar defaults = {\n\t\timage: 'http://bit.ly/P5gi7B'\n\t};\n\n\t$.fn.baconize = function (options) {\n\t\t...\n\t};\n};\n```\n\n---\n\n# IIFE: Immediately-Invoked Function Expression\n\n```javascript\n// #highlight 1,9\n(function () {\n\tvar defaults = {\n\t\timage: 'http://bit.ly/P5gi7B'\n\t};\n\n\t$.fn.baconize = function (options) {\n\t\t...\n\t};\n})();\n```\n\n---\n\n# IIFE: Immediately-Invoked Function Expression\n\n```javascript\njQuery.noConflict();\n```\n\n```javascript\n(function ($) {\n\tvar defaults = {\n\t\timage: 'http://bit.ly/P5gi7B'\n\t};\n\n\t$.fn.baconize = function (options) {\n\t\t...\n\t};\n})(jQuery);\n```\n\n---\n\n# Modularity\n\n---\n\n# Separation of Concerns\n\n---\n\n# Single Responsibility Principle\n\n---\n\n# Modularity\n\n```javascript\nvar cars = {};\nvar id = 0;\nvar Car = function (options) { /* set car info */ };\n\nvar createCar = function (options) {\n\treturn cars[ id++ ] = new Car(options);\n};\n\nvar getCar = function (id) {\n\treturn cars[id];\n};\n\nvar updateCar = function (props) {\n\t// update car with properties\n};\n\nvar removeCar = function (id) {\n\tdelete cars[id];\n};\n```\n\n---\n\n# Module Pattern\n\n```javascript\nvar Cars = (function () {\n\tvar cars = {};\n\tvar id = 0;\n\tvar Car = function (options) { /* set car info */ };\n\n\treturn {\n\t\tcreate: function (options) {},\n\t\tget: function (id) {},\n\t\tupdate: function (props) {},\n\t\tremove: function () {}\n\t};\n})();\n```\n\n---\n\n# Module Pattern\n\n```javascript\n// #highlight 6,7,8,9,10,11\nvar Cars = (function () {\n\tvar cars = {};\n\tvar id = 0;\n\tvar Car = function (options) { /* set car info */ };\n\n\treturn {\n\t\tcreate: function (options) {},\n\t\tget: function (id) {},\n\t\tupdate: function (props) {},\n\t\tremove: function () {}\n\t};\n})();\n```\n\n---\n\n# Module Pattern\n\n```javascript\n// #highlight 0\nvar Cars = (function () {\n\tvar cars = {};\n\tvar id = 0;\n\tvar Car = function (options) { /* set car info */ };\n\n\treturn {\n\t\tcreate: function (options) {},\n\t\tget: function (id) {},\n\t\tupdate: function (props) {},\n\t\tremove: function () {}\n\t};\n})();\n```\n\n```javascript\nCars.create({ color: 'Blue', make: 'Toyota', model: 'Prius' });\nvar bentley = Cars.get(751);\n```\n\n---\n\n# Revealing Module Pattern\n\n```javascript\n// #highlight 6,7,8,9\nvar Cars = (function () {\n\tvar cars = {};\n\tvar id = 0;\n\tvar Car = function (options) { /* set car info */ };\n\n\tvar createCar = function (options) {};\n\tvar getCar = function (id) {};\n\tvar updateCar = function (props) {};\n\tvar removeCar = function () {};\n\n\treturn {\n\t\tcreate: createCar,\n\t\tget: getCar,\n\t\tupdate: updateCar\n\t};\n})();\n```\n\n---\n\n# Revealing Module Pattern\n\n```javascript\n// #highlight 11,12,13,14,15\nvar Cars = (function () {\n\tvar cars = {};\n\tvar id = 0;\n\tvar Car = function (options) { /* set car info */ };\n\n\tvar createCar = function (options) {};\n\tvar getCar = function (id) {};\n\tvar updateCar = function (props) {};\n\tvar removeCar = function () {};\n\n\treturn {\n\t\tcreate: createCar,\n\t\tget: getCar,\n\t\tupdate: updateCar\n\t};\n})();\n```\n\n---\n\n# Namespaces\n\nIf you take one of these modular approaches to code, you will not want to introduce a new global for each module. One easy way to solve this is through a single global variable that acts as a namespace:\n\n```javascript\n(function ( root, $ ) {\n\troot.Auto = root.Auto || {};\n\t\n\t...\n\t\n\troot.Auto.Cars = {\n\t\tcreate: createCar,\n\t\tget: getCar,\n\t\tupdate: updateCar\n\t};\n}( this, jQuery ));\n```\n\n---\n\n# Namespaces\n\nUsing a single top level namespace makes for a much nicer debugging experience as you can \"browse\" the object in the Developer Tools of your browser.\n\n---\n\n# AMD *and* RequireJS\n\n---\n\n# Problems\n\nEven once you introduce modularity into your code, you still have problems:\n\n* Any time you add a new file to your project, you must add the corresponding script tag in as many files as needed\n* You must manually order dependencies and maintain that order any optimization/build script\n* When dependencies are loaded asynchronously, you must ensure they execute in the right order\n\n---\n\n# CommonJS\n\n* Module format for the JavaScript Language\n* Node.js uses a CommonJS-like module format\n* Doesn't address Network Loading\n* Doesn't address Asynchronous Concerns\n\n```javascript\nvar fs = require( \"fs\" );\n```\n\n---\n\n# Asynchronous Module Definition *(AMD)*\n\n* Browser friendly specification\n* Ability to load modular code asynchronously\n* Borrows concepts from the CommonJS specification\n\n---\n\n# RequireJS\n\nAMD Compatible Asynchronous Script Loader\n\n* Developed by [James Burke](http://jrburke.com/about/) from Mozilla\n* Modular - Encapsulated pieces of code\n* Asynchronous Loading\n* Dependency Management - Refer to other units of code\n* Compiles (minification/combination) via `r.js`\n* Large Community\n\n---\n\n# RequireJS Support\n\n```text\n- IE 6+ .......... compatible ✔\n- Firefox 2+ ..... compatible ✔\n- Safari 3.2+ .... compatible ✔\n- Chrome 3+ ...... compatible ✔\n- Opera 10+ ...... compatible ✔\n```\n\n\n---\n\n# Add RequireJS to your Page\n\n```html\n&lt;!DOCTYPE html>\n&lt;html>\n    &lt;head>\n        &lt;title>Project&lt;/title>\n    &lt;/head>\n    &lt;body>\n        &lt;h1>Project&lt;/h1>\n        &lt;!-- data-main attribute tells require.js to load\n             js/main.js after require.js loads. -->\n        &lt;script data-main=\"js/main\" src=\"js/libs/require.js\">&lt;/script>\n    &lt;/body>\n&lt;/html>\n```\n\n---\n\n# Simple File Structure\n\n```text\nwww/\n├── js/\n│   ├── libs/\n│   │   ├── jquery-1.9.0.min.js\n│   │   ├── require.min.js\n│   ├── app.js\n│   ├── main.js  // Bootstrap\n│   └── text.js  // Require.js plugin\n└── index.html\n```\n\n---\n\n# RequireJS Methods\n\nYou'll use the following methods to configure your environment, define modules and require them into your web application.\n\n* define\n* require\n* requirejs.config\n\n---\n\n# `define` Function\n\nTypically you want to define one module per file but you can define multiple as long as you provide their name. By default RequireJS will use the file's name to identify it. To name a module, pass in a string as the first argument to `define`.\n\n```javascript\n// app.js\ndefine( [ \"router\" ], function( Router ) {\n\tvar init = function() {\n\t\tconsole.log( \"app init\" );\n\t}\n\n\treturn { init: init };\n});\n```\n\n---\n\n# `require` Function\n\n```javascript\n// main.js\nrequire([ \"jquery\", \"underscore\", \"backbone\", \"app\" ],\n\tfunction ( $, _, Backbone, app ) {\n\t\t// This function is called when jquery, underscore, backbone, & app\n\t\t// are loaded. $, _, Backbone, & app are instances of those resources\n\t\tapp.init();\n\t});\n```\n\n---\n\n# `require` Function *Continued*\n\nIf you want to use the `require` function inside a module, you should list `\"require\"` as one of your dependencies:\n\n```javascript\ndefine( [ \"require\" ], function ( require ) {\n\treturn {\n\t\trun: function ( callback ) {\n\t\t\trequire( [ \"some/other/module\" ], callback );\n\t\t}\n\t};\n});\n```\n\n---\n\n# jQuery Supports AMD\n\n```javascript\nif ( typeof define === \"function\" && define.amd && define.amd.jQuery ) {\n\tdefine( \"jquery\", [], function () { return jQuery; } );\n}\n```\n\n---\n\n# `main.js`\n## RequireJS Config\n\nThe path to your main script will become the root of all your modules. You can override your baseUrl by setting `baseUrl` in the main.js file. The filename of `main` is not required. You can name the file whatever you want, and you have different versions of the file should your application need it.\n\n```javascript\nrequire.config({\n\t\"baseUrl\": \"js\", // if not supplied, this will be assumed to\n\t                 // be the directory where main.js lives\n\t\"paths\" : {\n\t\t\"jquery\": \"./libs/jquery-1.9.0\"\n\t}\n});\n```\n\n---\n\n# Supporting Non-AMD Scripts\n\n---\n\n# RequireJS Config Shim\n\n```javascript\nrequire.config({\n\t\"paths\" : {\n\t\t\"jquery\": \"./libs/jquery-1.9.0\",\n\t\t\"underscore\": \"./libs/underscore-1.4.3\",\n\t\t\"jquery.hoverintent\": \"./libs/hover-intent.js\"\n\t},\n\t\"shim\": {\n\t\t\"jquery.hoverintent\": {\n\t\t\t\"deps\": [ \"jquery\" ],\n\t\t\t\"exports\": \"jQuery.fn.hoverIntent\"\n\t\t},\n\t\tunderscore: {\n\t\t\t\"exports\" : \"_\"\n\t\t}\n\t}\n});\n```\n\n---\n\n# AMD-ified Libraries\n\n* &lt;https://github.com/amdjs/underscore> - AMD support added\n* &lt;https://github.com/amdjs/backbone> - AMD support added\n\n```javascript\nrequire.config({\n\t\"paths\" : {\n\t\t\"underscore\": \"lib/underscore-amd\",\n\t\t\"backbone\": \"lib/backbone-amd\"\n\t}\n});\n```\n\n---\n\n# Passing config values\n## to a module\n\n### In your module:\n\n```javascript\ndefine( [ \"module\" ], function ( module ) {\n\tvar config = module.config();\n\t\n\tif ( config.silent === true ) {\n\t\treturn \"\";\n\t} else {\n\t\treturn \"SHOUT!\"\n\t}\n});\n```\n\n---\n\n# Passing config values\n## to a module\n\n### In main.js:\n\n```javascript\nrequirejs.config({ ... });\n\nrequire( [ \"path/to/module\" ], function ( sample ) {\n\tconsole.log( sample ); // Output \"SHOUT!\"\n});\n```\n\n---\n\n# Passing config values\n## to a module\n\n### In main-silent.js:\n\n```javascript\nrequirejs.config({\n\tconfig: {\n\t\t\"path/to/module\": {\n\t\t\tsilent: true\n\t\t}\n\t}\n});\n\nrequire( [ \"path/to/module\" ], function ( sample ) {\n\tconsole.log( sample ); // Output \"\"\n});\n```\n\n\n---\n\n# Text Plugin\n\nThe text plugin allows you to use the same `define` and `require` syntax \n\n---\n\n# Text Plugin Use Cases\n\n* Module specific client-side templates\n* Module specific CSS\n* Module specific Text (whatever)\n\n---\n\n# Using the Text Plugin\n\n```javascript\ndefine([\n\t\"jquery\",\n\t\"text!templates/contact-details.html\"\n], function ( $, template ) {\n\t$.widget( \"sample.contact\", {\n\t\t_create: function () {\n\t\t\tthis.element.html( template );\n\t\t}\n\t});\n\n\treturn $.sample.contact;\n});\n```\n\n---\n\n# Summary\n\nRegardless of the pattern you choose, modularity in code helps:\n\n* Increase maintainability\n* Decrease bugs caused by global leaks and dependency order\n* Encourage reusability\n\n---\n"
			},
			{
				"title": "Plugins",
				"plugins": [
					"livedemo",
					"notify"
				],
				"file": "training-content/content/ContextualjQueryDay/plugins-new.md",
				"content": "&lt;!--\n{\n\t\"title\": \"Plugins\",\n\t\"plugins\": [ \"livedemo\", \"notify\" ]\n}\n-->\n\n---\n# What is a jQuery plugin?\n\n* An awesome library approved by the jQuery team and used by millions?\n\n* Code you found useful and decided to release to the public?\n\n* Something other people write, and you use?\n\n---\n# What is a jQuery plugin?\n\n* A jQuery plugin is any reusable piece of JavaScript code that depends on jQuery.\n\n* Many jQuery plugins extend `$.fn` to provide functionality to jQuery result sets.\n\n* It is simply another method of code organization.\n\n* You should be writing and using your plugins in your projects now!\n\n---\n\n# Step 1: Protect the $\n\n```javascript\n// Out here, $ may not be equal to jQuery\n\n( function ( $ ) {\n\n\t// In here, $ is equal to jQuery\n\n}( jQuery ));\n```\n\n### IIFE: Immediately Invoking function expression\n\n---\n\n# Step 2: add the plugin method\n\n```javascript\n// #highlight 3,5\n( function ( $ ) {\n\n$.fn.myPlugin = function () {\n\n};\n\n}( jQuery ));\n```\n\n### Be sure to pick a unique name to avoid conflicts\n\n---\n\n# jQuery magic\n\n* In order to run this:  \n`$( \"div.findSomething\" ).doSomething();`\n\n* This method would be defined:   \n`$.fn.doSomething`\n\n* Its not magic, its the `prototype` of jQuery\n\n* `$.fn` is just an alias for the `prototype\n\n---\n\n# Step 3: Return `this`\n\n```javascript\n// #highlight 4,6\n( function ( $ ) {\n\n$.fn.myPlugin = function () {\n\treturn this.each( function ( i, el ) {\n\n\t});\n};\n\n}( jQuery ));\n```\n\n### Chaining depends on you honoring the system\n\n---\n\n# More Magic: Chaining\n\n* `this` is already a jQuery object\n\n* End the plugin by returning `this` to support chaining\n\n* 90% of the time, you want to support chaining\n\n```javascript\n$( \"#el\" ).show().yourPlugin().delay( 900 ).slideUp();\n```\n\n&lt;p>&lt;/p>\n\n* For the other 10%, there is only one situation where you shouldn't support chaining:\n\n\t* If your plugin method needs to return a value, it cannot chain\n\n---\n\n# Step 3 *a*: Add Code\n\n```javascript\n// #highlight 7,8\n( function ( $ ) {\n\n$.fn.myPlugin = function () {\n\treturn this.each( function ( i, el ) {\n\t\t// Your code goes here\n\t\t// this == el, so $( el ) to use jQuery methods\n\t\t$( el ).addClass( \"button\" )\n\t\t       .append( \"&lt;span>&lt;/span>\" );\n\t});\n};\n\n}( jQuery ));\n```\n\n---\n\n# WAIT! Each isn't always needed\n\n```javascript\n// #highlight 4,5\n( function ( $ ) {\n\n$.fn.myPlugin = function () {\n\treturn this.addClass( \"button\" )\n\t\t        .append( \"&lt;span>&lt;/span>\" );\n};\n\n}( jQuery ));\n```\n\n### Implicit iteration is responsible for this\n\n---\n\n# Step 3 *b*: Add more code\n\n```javascript\n// #highlight 5,6,7,8,9 \n( function ( $ ) {\n\n$.fn.myPlugin = function () {\n\treturn this.each( function ( i, el ) {\n\t\tvar $el = $( el );\n\t\tif ( !$el.hasClass( \"button\" ) {\n\t\t\t$el.addClass( \"button\" )\n\t\t\t   .append( \"&lt;span>&lt;/span>\" );\n\t\t}\n\t});\n};\n\n}( jQuery ));\n```\n\n---\n\n# Step 4 *a*: Adding options\n\n```javascript\n// #highlight 13,14,15,16\n( function ( $ ) {\n\n$.fn.myPlugin = function () {\n\treturn this.each( function ( i, el ) {\n\t\tvar $el = $( el );\n\t\tif ( !$el.hasClass( \"button\" ) {\n\t\t\t$el.addClass( \"button\" )\n\t\t\t   .append( \"&lt;span>&lt;/span>\" );\n\t\t}\n\t});\n};\n\n$.fn.myPlugin.defaults = {\n\tbuttonClass: \"button\",\n\ticonMarkup: \"&lt;span>&lt;/span>\"\n};\n\n}( jQuery ));\n```\n\n---\n\n# Step 4 *b*: Merging Options\n\n```javascript\n// #highlight 3,4\n( function ( $ ) {\n\n$.fn.myPlugin = function ( options ) {\n\toptions = $.extend( {}, $.fn.myPlugin.defaults, options );\n\treturn this.each( function ( i, el ) {\n\t\tvar $el = $( el );\n\t\tif ( !$el.hasClass( \"button\" ) {\n\t\t\t$el.addClass( \"button\" )\n\t\t\t   .append( \"&lt;span>&lt;/span>\" );\n\t\t}\n\t});\n};\n\n$.fn.myPlugin.defaults = {\n\tbuttonClass: \"button\",\n\ticonMarkup: \"&lt;span>&lt;/span>\"\n};\n\n}( jQuery ));\n```\n\n---\n\n# Step 4 *c*: Using Options\n\n```javascript\n// #highlight 7,8,9,10\n( function ( $ ) {\n\n$.fn.myPlugin = function ( options ) {\n\toptions = $.extend( {}, $.fn.myPlugin.defaults, options );\n\treturn this.each( function ( i, el ) {\n\t\tvar $el = $( el );\n\t\tif ( !$el.hasClass( options.buttonClass ) {\n\t\t\t$el.addClass( options.buttonClass )\n\t\t\t   .append( options.iconMarkup );\n\t\t}\n\t});\n};\n\n$.fn.myPlugin.defaults = {\n\tbuttonClass: \"button\",\n\ticonMarkup: \"&lt;span>&lt;/span>\"\n};\n}( jQuery ));\n```\n\n---\n&lt;!-- { \"demo\": true, \"demo-autorun\": true } -->\n# Step 5: Dealing with result sets\n\nIf you write a plugin that returns a changed results set, make sure to push onto the stack.\n\n```javascript\n$.fn.grandparent = function () {\n\treturn this.parent().parent();\n};\n\n$( \"p\" )\n\t.grandparent()\n\t\t.css( 'color', 'red' )\n\t\t.end()\n\t.hide();\n```\n\n```html\n&lt;div class=\"grandma\">Grandma.\n\t&lt;div>Parent. &lt;p>Child&lt;/p>&lt;/div>\n&lt;/div>\n&lt;div class=\"grandpa\">Grandpa.\n\t&lt;div>Parent. &lt;p>Child&lt;/p>&lt;/div>\n&lt;/div>\n```\n\n---\n&lt;!-- { \"demo\": true, \"demo-autorun\": true } -->\n# Step 5: Dealing with result sets\n\nIf you write a plugin that returns a changed results set, make sure to push onto the stack.\n\n```javascript\n// #highlight 2\n$.fn.grandparent = function () {\n\treturn this.pushStack( this.parent().parent() );\n};\n\n$( \"p\" )\n\t.grandparent()\n\t\t.css( 'color', 'red' )\n\t\t.end()\n\t.hide();\n```\n\n```html\n&lt;div class=\"grandma\">Grandma.\n\t&lt;div>Parent. &lt;p>Child&lt;/p>&lt;/div>\n&lt;/div>\n&lt;div class=\"grandpa\">Grandpa.\n\t&lt;div>Parent. &lt;p>Child&lt;/p>&lt;/div>\n&lt;/div>\n```\n\n---\n\n# Basic Plugin Review\n\n1. Protect `$` by wrapping the plugin in an IIFE\n1. Add your method to `$.fn`\n1. Be sure to return `this`\n1. Add options to further abstract the code\n1. Use `pushStack` if you are returning a new result set\n \n---\n\n# What about `$.extend`?\n\n```javascript\n// Some plugins use this form of adding to $.fn\n$.extend( $.fn, {\n    myPlugin: function () {\n        return this;\n    }\n});\n```\n\n1. Good if you plan to add a ton of plugin methods\n1. Don't add a ton of plugin methods\n\n---\n\n# Finished Plugin\n\n```javascript\n( function ( $ ) {\n\n$.fn.myPlugin = function ( options ) {\n\toptions = $.extend( {}, $.fn.myPlugin.defaults, options );\n\t\n\treturn this.each( function ( i, el ) {\n\t\tvar $el = $( el );\n\t\tif ( !$el.hasClass( options.buttonClass ) {\n\t\t\t$el.addClass( options.buttonClass )\n\t\t\t   .append( options.iconMarkup );\n\t\t}\n\t});\n};\n\n$.fn.myPlugin.defaults = {\n\tbuttonClass: \"button\",\n\ticonMarkup: \"&lt;&lt;span>&lt;/span>\"\n};\n\n}( jQuery ));\n```\n\n---\n\n# Effective options\n\n---\n\n# Value of a plugin\n\n* A plugin is only as powerful as its API, and the options your support.\n\n* More options != more power\n\n* Too many options can bloat your plugin, so add them carefully and with a lot of thought.\n\n---\n\n# Types of Options\n\n* Plain value options\n\n\t* Strings and Numbers\n\n* DOM Selection options\n\n\t* String selector, DOM object, jQuery Object\n\n* Callbacks\n\n\t* Fire after certain events\n\n* Rich Callbacks\n\n\t* The plugin depends on the callback for functionality\n\n---\n\n# Plain value\n\n### Default\n\n```javascript\ndefaults = {\n   animSpeed: 5000, // Defaults to 5 seconds\n   defaultText: \"Amazing Sample Text!\"\n}\n```\n\n### Use in plugin\n\n```javascript\n$( el ).slideDown( options.animSpeed, function () {\n   this.innerHTML = options.defaultText;\n});\n```\n\n---\n\n# DOM SELECTION\n\n### Default\n\n```javascript\ndefaults = {\n   listItems: \"ul li\",\n   listItems: liObj,\n   listItems: $( \"ul li\" )\n};\n```\n\n### Use in plugin\n\n```javascript\nvar items = options.listItems;\n\nif ( items && !items.jquery ) {\n  items = $( items );\n}\n```\n\n---\n\n# Callbacks\n\n### Default\n\n```javascript\ndefaults = {\n   onClick: null\n};\n```\n\n### Use in plugin\n\n```javascript\n$( el ).click( function ( e ) {\n    e.preventDefault();\n\n    // Do something\n\n    if ( $.isFunction( options.onClick ) ) {\n       options.onClick.apply( this, arguments );\n    }\n});\n```\n\n---\n\n# Callbacks *alternate*\n\n### Default\n\n```javascript\ndefaults = {\n   onClick: $.noop // $.noop == function () { }\n};\n```\n\n### Use in plugin\n\n```javascript\n$( el ).click( function ( e ) {\n    e.preventDefault();\n\n    // Do something\n\n    options.onClick.apply( this, arguments );\n});\n```\n\n---\n\n# Rich Callbacks\n\n### Default\n\n```javascript\ndefaults = {\n   renderItem: function ( text, type ) {\n      return \"&lt;span class='\" + type + \"'>\" + text + \"&lt;/span>\";\n   } \n};\n```\n\n### Use in plugin\n\n```javascript\n$.each( keys, function ( key, text ) {\n    var html = options.renderItem( item, key );\n    \n    // Do something\n});\n```\n\n---\n\n# Live Coding\n## Creating a Plugin"
			}
		]
	},
	"contrast": "normal",
	"current": "Advanced"
};
	</script>
	<script data-main="crosslink/main" src="./crosslink/js/libs/require-jquery.js"></script>
</body>
</html>